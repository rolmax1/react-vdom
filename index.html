<!DOCTYPE html>
<!-- Copyright (c) 2016 TimTheSinner All Rights Reserved. -->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>React + D3 with VirtualDOM</title>

    <script type="text/javascript">
      window.__ROOT_PATH__ = 'react-vdom';
      if (window.location && window.location.pathname === '/' && window.history) {
        window.history.replaceState({redirect:'root-visited'}, 'Home', '/' + window.__ROOT_PATH__);
      }
    </script>

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/foundation/5.5.3/css/foundation.min.css">
    <style>
      .center {
        margin: auto;
        max-width: 960px;
      }

      .center h1 {
        text-align: center;
      }

      .bar {
        fill: steelblue;
      }

      .bar:hover {
        fill: brown;
      }

      .axis--x path {
        display: none;
      }

      a {
        margin-left: 6px;
        margin-right: 6px;
      }

      code {
        border-style: none;
      }
    </style>
  </head>
  <body>
    <div id="body">
      <div class="large-12 columns" data-reactroot="" data-reactid="1" data-react-checksum="1697827782"><div class="contain-to-grid sticky" data-reactid="2"><nav class="top-bar" role="navigation" data-reactid="3"><ul class="title-area" data-reactid="4"><li class="name" data-reactid="5"><h1 data-reactid="6"><a target="_blank" href="https://github.com/timthesinner/react-vdom" data-reactid="7">React VirtualDOM</a></h1></li></ul><section class="top-bar-section" data-reactid="8"><ul class="right" data-reactid="9"><li class="has-dropdown" data-reactid="10"><a style="text-align:end;" data-reactid="11">Example Charts</a><ul style="display:none;position:fixed;opacity:0.9;" data-reactid="12"><li style="float:none;" data-reactid="13"><a href="/static-bar-chart" data-reactid="14">Static Bar Chart</a></li><li style="float:none;" data-reactid="15"><a href="/dynamic-bar-chart" data-reactid="16">Dynamic Bar Chart</a></li></ul></li></ul><ul class="left" data-reactid="17"><li data-reactid="18"><a href="/" data-reactid="19">Home</a></li></ul></section></nav></div><div class="center" data-reactid="20"><h1 data-reactid="21">Seamless D3 and React</h1><p data-reactid="22">Transform your existing D3 charts (or make new ones) and take advantage of React&#x27;s advanced DOM manipulation and diff capabilitites.  Simply include the VirtualDOM class and pass that off to the D3.select and D3 will emit React nodes instead of using document.createElement.</p><hr data-reactid="23"/><div data-reactid="24"><h3 data-reactid="25">Simple Example</h3><p data-reactid="26"><!-- react-text: 27 -->Source for this example was adopted from<!-- /react-text --><a target="_blank" href="https://bost.ocks.org/mike/circles/" data-reactid="28">Three (4) Little Circles</a></p></div><svg style="display:block;" width="375" class="center" data-reactid="29"><circle style="fill:steelblue;" cy="60" cx="30" r="5.656854249492381" data-reactid="30"></circle><circle style="fill:steelblue;" cy="60" cx="130" r="7.54983443527075" data-reactid="31"></circle><circle style="fill:steelblue;" cy="60" cx="230" r="10.583005244258363" data-reactid="32"></circle><circle style="fill:steelblue;" cy="60" cx="330" r="17.11724276862369" data-reactid="33"></circle></svg><p data-reactid="34"><span data-reactid="35">And the ES6</span><a target="_blank" href="https://github.com/timthesinner/react-vdom/blob/master/example/components/example.jsx" data-reactid="36">source</a><span data-reactid="37">for this example</span></p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="38"><code data-reactid="39"><!-- react-text: 40 -->
<!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="41"><!-- react-text: 42 -->//Copyright (c) 2016 TimTheSinner All Rights Reserved.<!-- /react-text --></span><!-- react-text: 43 -->
<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="44"><!-- react-text: 45 -->import<!-- /react-text --></span><!-- react-text: 46 --> React, { Component } <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="47"><!-- react-text: 48 -->from<!-- /react-text --></span><!-- react-text: 49 --> <!-- /react-text --><span style="color:#d14;" data-reactid="50"><!-- react-text: 51 -->&#x27;react&#x27;<!-- /react-text --></span><!-- react-text: 52 -->;

<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="53"><!-- react-text: 54 -->import<!-- /react-text --></span><!-- react-text: 55 --> * <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="56"><!-- react-text: 57 -->as<!-- /react-text --></span><!-- react-text: 58 --> d3 <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="59"><!-- react-text: 60 -->from<!-- /react-text --></span><!-- react-text: 61 --> <!-- /react-text --><span style="color:#d14;" data-reactid="62"><!-- react-text: 63 -->&#x27;d3&#x27;<!-- /react-text --></span><!-- react-text: 64 -->;
<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="65"><!-- react-text: 66 -->import<!-- /react-text --></span><!-- react-text: 67 --> VirtualDOM <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="68"><!-- react-text: 69 -->from<!-- /react-text --></span><!-- react-text: 70 --> <!-- /react-text --><span style="color:#d14;" data-reactid="71"><!-- react-text: 72 -->&#x27;../../src&#x27;<!-- /react-text --></span><!-- react-text: 73 -->;

<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="74"><!-- react-text: 75 -->export<!-- /react-text --></span><!-- react-text: 76 --> <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="77"><!-- react-text: 78 -->default<!-- /react-text --></span><!-- react-text: 79 --> <!-- /react-text --><span data-reactid="80"><span style="color:#333;font-weight:bold;" data-reactid="81"><!-- react-text: 82 -->class<!-- /react-text --></span><!-- react-text: 83 --> <!-- /react-text --><span style="color:#900;font-weight:bold;" data-reactid="84"><!-- react-text: 85 -->SimpleExample<!-- /react-text --></span><!-- react-text: 86 --> <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="87"><!-- react-text: 88 -->extends<!-- /react-text --></span><!-- react-text: 89 --> <!-- /react-text --><span style="color:#900;font-weight:bold;" data-reactid="90"><!-- react-text: 91 -->Component<!-- /react-text --></span><!-- react-text: 92 --> <!-- /react-text --></span><!-- react-text: 93 -->{
  render() {
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="94"><!-- react-text: 95 -->//Initialize a new VirtualDOM tree with a root tag of svg and some direct attributes<!-- /react-text --></span><!-- react-text: 96 -->
    <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="97"><!-- react-text: 98 -->const<!-- /react-text --></span><!-- react-text: 99 --> dom = <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="100"><!-- react-text: 101 -->new<!-- /react-text --></span><!-- react-text: 102 --> VirtualDOM(<!-- /react-text --><span style="color:#d14;" data-reactid="103"><!-- react-text: 104 -->&#x27;svg&#x27;<!-- /react-text --></span><!-- react-text: 105 -->, {<!-- /react-text --><span data-reactid="106"><!-- react-text: 107 -->width<!-- /react-text --></span><!-- react-text: 108 -->:<!-- /react-text --><span style="color:#008080;" data-reactid="109"><!-- react-text: 110 -->375<!-- /react-text --></span><!-- react-text: 111 -->, <!-- /react-text --><span data-reactid="112"><!-- react-text: 113 -->className<!-- /react-text --></span><!-- react-text: 114 -->:<!-- /react-text --><span style="color:#d14;" data-reactid="115"><!-- react-text: 116 -->&#x27;center&#x27;<!-- /react-text --></span><!-- react-text: 117 -->, <!-- /react-text --><span data-reactid="118"><!-- react-text: 119 -->style<!-- /react-text --></span><!-- react-text: 120 -->:{<!-- /react-text --><span data-reactid="121"><!-- react-text: 122 -->display<!-- /react-text --></span><!-- react-text: 123 -->:<!-- /react-text --><span style="color:#d14;" data-reactid="124"><!-- react-text: 125 -->&#x27;block&#x27;<!-- /react-text --></span><!-- react-text: 126 -->}});

    d3.select(dom) <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="127"><!-- react-text: 128 -->//The magic happens here, D3 is emitting React Nodes instead of Elements<!-- /react-text --></span><!-- react-text: 129 -->
      .selectAll(<!-- /react-text --><span style="color:#d14;" data-reactid="130"><!-- react-text: 131 -->&quot;circle&quot;<!-- /react-text --></span><!-- react-text: 132 -->).data([<!-- /react-text --><span style="color:#008080;" data-reactid="133"><!-- react-text: 134 -->32<!-- /react-text --></span><!-- react-text: 135 -->, <!-- /react-text --><span style="color:#008080;" data-reactid="136"><!-- react-text: 137 -->57<!-- /react-text --></span><!-- react-text: 138 -->, <!-- /react-text --><span style="color:#008080;" data-reactid="139"><!-- react-text: 140 -->112<!-- /react-text --></span><!-- react-text: 141 -->, <!-- /react-text --><span style="color:#008080;" data-reactid="142"><!-- react-text: 143 -->293<!-- /react-text --></span><!-- react-text: 144 -->])
      .enter().append(<!-- /react-text --><span style="color:#d14;" data-reactid="145"><!-- react-text: 146 -->&quot;circle&quot;<!-- /react-text --></span><!-- react-text: 147 -->)
        .style(<!-- /react-text --><span style="color:#d14;" data-reactid="148"><!-- react-text: 149 -->&quot;fill&quot;<!-- /react-text --></span><!-- react-text: 150 -->, <!-- /react-text --><span style="color:#d14;" data-reactid="151"><!-- react-text: 152 -->&quot;steelblue&quot;<!-- /react-text --></span><!-- react-text: 153 -->)
        .attr(<!-- /react-text --><span style="color:#d14;" data-reactid="154"><!-- react-text: 155 -->&quot;cy&quot;<!-- /react-text --></span><!-- react-text: 156 -->, <!-- /react-text --><span style="color:#008080;" data-reactid="157"><!-- react-text: 158 -->60<!-- /react-text --></span><!-- react-text: 159 -->)
        .attr(<!-- /react-text --><span style="color:#d14;" data-reactid="160"><!-- react-text: 161 -->&quot;cx&quot;<!-- /react-text --></span><!-- react-text: 162 -->, (d, i) =&gt; i * <!-- /react-text --><span style="color:#008080;" data-reactid="163"><!-- react-text: 164 -->100<!-- /react-text --></span><!-- react-text: 165 --> + <!-- /react-text --><span style="color:#008080;" data-reactid="166"><!-- react-text: 167 -->30<!-- /react-text --></span><!-- react-text: 168 -->)
        .attr(<!-- /react-text --><span style="color:#d14;" data-reactid="169"><!-- react-text: 170 -->&quot;r&quot;<!-- /react-text --></span><!-- react-text: 171 -->, (d) =&gt; <!-- /react-text --><span style="color:#0086b3;" data-reactid="172"><!-- react-text: 173 -->Math<!-- /react-text --></span><!-- react-text: 174 -->.sqrt(d));

    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="175"><!-- react-text: 176 -->//Return the virtual dom as a React tree rooted at the &#x27;tag&#x27; in this case svg.<!-- /react-text --></span><!-- react-text: 177 -->
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="178"><!-- react-text: 179 -->//React will diff this tree and update only nodes that need to be refreshed!<!-- /react-text --></span><!-- react-text: 180 -->
    <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="181"><!-- react-text: 182 -->return<!-- /react-text --></span><!-- react-text: 183 --> dom.render();
  }
}
<!-- /react-text --></code></pre></div></div>
    </div>

    <!-- Inject the app bundle accounting for nested routes -->
    <script type="text/javascript">
      var path = '/__build__/bundle.js';
      if (window.location && window.location.pathname !== '/' + window.__ROOT_PATH__) {
        path = '/' + window.__ROOT_PATH__ + path;
      }

      console.log(path);
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.src = path;
      document.body.appendChild(script);
    </script>

    <!-- Start Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-89444069-1', 'auto');
      ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->
  </body>
</html>
