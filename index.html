<!DOCTYPE html>
<!-- Copyright (c) 2016 TimTheSinner All Rights Reserved. -->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>React + D3 with VirtualDOM</title>

    <script type="text/javascript">
      window.__ROOT_PATH__ = 'react-vdom';
      if (window.location && window.location.pathname === '/' && window.history) {
        window.history.replaceState({redirect:'root-visited'}, 'Home', '/' + window.__ROOT_PATH__);
      }
    </script>

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/foundation/5.5.3/css/foundation.min.css">
    <style>
      .center {
        margin: auto;
        max-width: 960px;
      }

      .center h1 {
        text-align: center;
      }

      .bar {
        fill: steelblue;
      }

      .bar:hover {
        fill: brown;
      }

      .axis--x path {
        display: none;
      }

      a {
        margin-left: 6px;
        margin-right: 6px;
      }

      code {
        border-style: none;
      }

      .gearing form {
        position: absolute;
        top: 1em;
        left: 1em;
      }

      .gearing path {
        fill-rule: evenodd;
        stroke: #333;
        stroke-width: 2px;
      }

      .gearing .sun path {
        fill: #6baed6;
      }

      .gearing .planet path {
        fill: #9ecae1;
      }

      .gearing .annulus path {
        fill: #c6dbef;
      }

      .quad-tree .point {
        fill: #000;
        fill-opacity: 0.4;
      }

      .quad-tree .point--scanned {
        fill: orange;
        fill-opacity: 1;
        stroke: orange;
        stroke-width: 3px;
      }

      .quad-tree .point--selected {
        fill: red;
        fill-opacity: 1;
        stroke: red;
        stroke-width: 5px;
      }

      .quad-tree .node {
        fill: none;
        stroke: #ccc;
        shape-rendering: crispEdges;
      }
    </style>
  </head>
  <body>
    <div id="body">
      <div class="large-12 columns" data-reactroot="" data-reactid="1" data-react-checksum="-343139313"><div class="contain-to-grid sticky" data-reactid="2"><nav class="top-bar" role="navigation" data-reactid="3"><ul class="title-area" data-reactid="4"><li class="name" data-reactid="5"><h1 data-reactid="6"><a target="_blank" href="https://github.com/timthesinner/react-vdom" data-reactid="7">React VirtualDOM</a></h1></li></ul><section class="top-bar-section" data-reactid="8"><ul class="right" data-reactid="9"><li class="has-dropdown" data-reactid="10"><a style="text-align:end;" data-reactid="11">Example Charts</a><ul style="display:none;position:fixed;opacity:0.9;" data-reactid="12"><li style="float:none;" data-reactid="13"><a href="/static-bar-chart" data-reactid="14">Static Bar Chart</a></li><li style="float:none;" data-reactid="15"><a href="/dynamic-bar-chart" data-reactid="16">Dynamic Bar Chart</a></li><li style="float:none;" data-reactid="17"><a href="/epicyclic-gearing" data-reactid="18">EpicyclicGearing</a></li></ul></li></ul><ul class="left" data-reactid="19"><li data-reactid="20"><a href="/" data-reactid="21">Home</a></li></ul></section></nav></div><div class="center" data-reactid="22"><h1 data-reactid="23">Seamless D3 and React</h1><p data-reactid="24">Transform your existing D3 charts (or make new ones) and take advantage of React&#x27;s advanced DOM manipulation and diff capabilitites.  Simply include the VirtualDOM class and pass that off to the D3.select and D3 will emit React nodes instead of using document.createElement.</p><hr data-reactid="25"/><div data-reactid="26"><h3 data-reactid="27">Simple Example</h3><p data-reactid="28"><!-- react-text: 29 -->Source for this example was adopted from<!-- /react-text --><a target="_blank" href="https://bost.ocks.org/mike/circles/" data-reactid="30">Three (4) Little Circles</a></p></div><svg style="display:block;" width="375" class="center" data-reactid="31"><circle style="fill:steelblue;" cy="60" cx="30" r="5.656854249492381" data-virtualid="undefined-0" data-reactid="32"></circle><circle style="fill:steelblue;" cy="60" cx="130" r="7.54983443527075" data-virtualid="undefined-1" data-reactid="33"></circle><circle style="fill:steelblue;" cy="60" cx="230" r="10.583005244258363" data-virtualid="undefined-2" data-reactid="34"></circle><circle style="fill:steelblue;" cy="60" cx="330" r="17.11724276862369" data-virtualid="undefined-3" data-reactid="35"></circle></svg><p data-reactid="36"><span data-reactid="37">And the ES6</span><a target="_blank" href="https://github.com/timthesinner/react-vdom/blob/master/example/components/example.jsx" data-reactid="38">source</a><span data-reactid="39">for this example</span></p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="40"><code data-reactid="41"><!-- react-text: 42 -->
<!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="43"><!-- react-text: 44 -->//Copyright (c) 2016 TimTheSinner All Rights Reserved.<!-- /react-text --></span><!-- react-text: 45 -->
<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="46"><!-- react-text: 47 -->import<!-- /react-text --></span><!-- react-text: 48 --> React, { Component } <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="49"><!-- react-text: 50 -->from<!-- /react-text --></span><!-- react-text: 51 --> <!-- /react-text --><span style="color:#d14;" data-reactid="52"><!-- react-text: 53 -->&#x27;react&#x27;<!-- /react-text --></span><!-- react-text: 54 -->;

<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="55"><!-- react-text: 56 -->import<!-- /react-text --></span><!-- react-text: 57 --> * <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="58"><!-- react-text: 59 -->as<!-- /react-text --></span><!-- react-text: 60 --> d3 <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="61"><!-- react-text: 62 -->from<!-- /react-text --></span><!-- react-text: 63 --> <!-- /react-text --><span style="color:#d14;" data-reactid="64"><!-- react-text: 65 -->&#x27;d3&#x27;<!-- /react-text --></span><!-- react-text: 66 -->;
<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="67"><!-- react-text: 68 -->import<!-- /react-text --></span><!-- react-text: 69 --> VirtualDOM <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="70"><!-- react-text: 71 -->from<!-- /react-text --></span><!-- react-text: 72 --> <!-- /react-text --><span style="color:#d14;" data-reactid="73"><!-- react-text: 74 -->&#x27;../../src&#x27;<!-- /react-text --></span><!-- react-text: 75 -->;

<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="76"><!-- react-text: 77 -->export<!-- /react-text --></span><!-- react-text: 78 --> <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="79"><!-- react-text: 80 -->default<!-- /react-text --></span><!-- react-text: 81 --> <!-- /react-text --><span data-reactid="82"><span style="color:#333;font-weight:bold;" data-reactid="83"><!-- react-text: 84 -->class<!-- /react-text --></span><!-- react-text: 85 --> <!-- /react-text --><span style="color:#900;font-weight:bold;" data-reactid="86"><!-- react-text: 87 -->SimpleExample<!-- /react-text --></span><!-- react-text: 88 --> <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="89"><!-- react-text: 90 -->extends<!-- /react-text --></span><!-- react-text: 91 --> <!-- /react-text --><span style="color:#900;font-weight:bold;" data-reactid="92"><!-- react-text: 93 -->Component<!-- /react-text --></span><!-- react-text: 94 --> <!-- /react-text --></span><!-- react-text: 95 -->{
  render() {
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="96"><!-- react-text: 97 -->//Initialize a new VirtualDOM tree with a root tag of svg and some direct attributes<!-- /react-text --></span><!-- react-text: 98 -->
    <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="99"><!-- react-text: 100 -->const<!-- /react-text --></span><!-- react-text: 101 --> dom = <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="102"><!-- react-text: 103 -->new<!-- /react-text --></span><!-- react-text: 104 --> VirtualDOM(<!-- /react-text --><span style="color:#d14;" data-reactid="105"><!-- react-text: 106 -->&#x27;svg&#x27;<!-- /react-text --></span><!-- react-text: 107 -->, {<!-- /react-text --><span data-reactid="108"><!-- react-text: 109 -->width<!-- /react-text --></span><!-- react-text: 110 -->:<!-- /react-text --><span style="color:#008080;" data-reactid="111"><!-- react-text: 112 -->375<!-- /react-text --></span><!-- react-text: 113 -->, <!-- /react-text --><span data-reactid="114"><!-- react-text: 115 -->className<!-- /react-text --></span><!-- react-text: 116 -->:<!-- /react-text --><span style="color:#d14;" data-reactid="117"><!-- react-text: 118 -->&#x27;center&#x27;<!-- /react-text --></span><!-- react-text: 119 -->, <!-- /react-text --><span data-reactid="120"><!-- react-text: 121 -->style<!-- /react-text --></span><!-- react-text: 122 -->:{<!-- /react-text --><span data-reactid="123"><!-- react-text: 124 -->display<!-- /react-text --></span><!-- react-text: 125 -->:<!-- /react-text --><span style="color:#d14;" data-reactid="126"><!-- react-text: 127 -->&#x27;block&#x27;<!-- /react-text --></span><!-- react-text: 128 -->}});

    d3.select(dom) <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="129"><!-- react-text: 130 -->//The magic happens here, D3 is emitting React Nodes instead of Elements<!-- /react-text --></span><!-- react-text: 131 -->
      .selectAll(<!-- /react-text --><span style="color:#d14;" data-reactid="132"><!-- react-text: 133 -->&quot;circle&quot;<!-- /react-text --></span><!-- react-text: 134 -->).data([<!-- /react-text --><span style="color:#008080;" data-reactid="135"><!-- react-text: 136 -->32<!-- /react-text --></span><!-- react-text: 137 -->, <!-- /react-text --><span style="color:#008080;" data-reactid="138"><!-- react-text: 139 -->57<!-- /react-text --></span><!-- react-text: 140 -->, <!-- /react-text --><span style="color:#008080;" data-reactid="141"><!-- react-text: 142 -->112<!-- /react-text --></span><!-- react-text: 143 -->, <!-- /react-text --><span style="color:#008080;" data-reactid="144"><!-- react-text: 145 -->293<!-- /react-text --></span><!-- react-text: 146 -->])
      .enter().append(<!-- /react-text --><span style="color:#d14;" data-reactid="147"><!-- react-text: 148 -->&quot;circle&quot;<!-- /react-text --></span><!-- react-text: 149 -->)
        .style(<!-- /react-text --><span style="color:#d14;" data-reactid="150"><!-- react-text: 151 -->&quot;fill&quot;<!-- /react-text --></span><!-- react-text: 152 -->, <!-- /react-text --><span style="color:#d14;" data-reactid="153"><!-- react-text: 154 -->&quot;steelblue&quot;<!-- /react-text --></span><!-- react-text: 155 -->)
        .attr(<!-- /react-text --><span style="color:#d14;" data-reactid="156"><!-- react-text: 157 -->&quot;cy&quot;<!-- /react-text --></span><!-- react-text: 158 -->, <!-- /react-text --><span style="color:#008080;" data-reactid="159"><!-- react-text: 160 -->60<!-- /react-text --></span><!-- react-text: 161 -->)
        .attr(<!-- /react-text --><span style="color:#d14;" data-reactid="162"><!-- react-text: 163 -->&quot;cx&quot;<!-- /react-text --></span><!-- react-text: 164 -->, (d, i) =&gt; i * <!-- /react-text --><span style="color:#008080;" data-reactid="165"><!-- react-text: 166 -->100<!-- /react-text --></span><!-- react-text: 167 --> + <!-- /react-text --><span style="color:#008080;" data-reactid="168"><!-- react-text: 169 -->30<!-- /react-text --></span><!-- react-text: 170 -->)
        .attr(<!-- /react-text --><span style="color:#d14;" data-reactid="171"><!-- react-text: 172 -->&quot;r&quot;<!-- /react-text --></span><!-- react-text: 173 -->, (d) =&gt; <!-- /react-text --><span style="color:#0086b3;" data-reactid="174"><!-- react-text: 175 -->Math<!-- /react-text --></span><!-- react-text: 176 -->.sqrt(d));

    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="177"><!-- react-text: 178 -->//Return the virtual dom as a React tree rooted at the &#x27;tag&#x27; in this case svg.<!-- /react-text --></span><!-- react-text: 179 -->
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="180"><!-- react-text: 181 -->//React will diff this tree and update only nodes that need to be refreshed!<!-- /react-text --></span><!-- react-text: 182 -->
    <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="183"><!-- react-text: 184 -->return<!-- /react-text --></span><!-- react-text: 185 --> dom.render();
  }
}
<!-- /react-text --></code></pre></div></div>
    </div>

    <!-- Inject the app bundle accounting for nested routes -->
    <script type="text/javascript">
      var path = '/__build__/bundle.js';
      if (window.location && window.location.pathname !== '/' + window.__ROOT_PATH__) {
        path = '/' + window.__ROOT_PATH__ + path;
      }

      console.log(path);
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.src = path;
      document.body.appendChild(script);
    </script>

    <!-- Start Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-89444069-1', 'auto');
      ga('send', 'pageview');
    </script>
    <!-- End Google Analytics -->
  </body>
</html>
